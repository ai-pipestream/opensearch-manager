%test.quarkus.devservices.enabled=true
%test.quarkus.datasource.devservices.enabled=true
%test.quarkus.datasource.devservices.db-name=opensearch_manager
%test.quarkus.kafka.devservices.enabled=true

# Test outgoing channel for drive-updates - extension auto-configures serializer for Protobuf types
%test.mp.messaging.outgoing.drive-updates-out.connector=smallrye-kafka
%test.mp.messaging.outgoing.drive-updates-out.topic=drive-updates

# Test incoming channels - extension auto-configures deserializers (no explicit config needed)

# Test HTTP configuration
%test.quarkus.http.test-port=0

# Disable service registration in tests
%test.pipestream.registration.enabled=false

# Enable debug logging for ConfigSource to trace extension behavior
%test.quarkus.log.category."ai.pipestream.apicurio.registry.protobuf.runtime.ProtobufChannelConfigSource".level=DEBUG

# gRPC mocks are provided by pipestream-wiremock-server via WireMockTestResource